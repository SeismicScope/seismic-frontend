import { Meta, ColorPalette, ColorItem } from "@storybook/addon-docs/blocks";

<Meta title="Design System/2. Theme Tokens" tags={["stage-2"]} />

# Level 2: Theme Tokens

Theme tokens are semantic colors that can be swapped based on the active theme. They reference Core Colors but provide a flexible abstraction layer.

**Key Concept**: These tokens are theme-aware, meaning their values change when switching themes (Teal, Mango, Tomato) via the `data-theme` attribute.

## Primary

The primary color represents the main brand or interface accent color.

<ColorPalette>
  <ColorItem
    title="Primary"
    subtitle="Default theme uses Teal"
    colors={{
      "theme-primary-default": "var(--theme-primary-default)",
      "theme-primary-on-primary": "var(--theme-primary-on-primary)",
      "theme-primary-surface": "var(--theme-primary-surface)",
      "theme-primary-on-surface": "var(--theme-primary-on-surface)",
    }}
  />
</ColorPalette>

### Usage Examples

```tsx
// Primary button
<button className="bg-primary text-primary-foreground">
  Click me
</button>

// Primary badge
<div className="bg-accent text-accent-foreground">
  Featured
</div>
```

## Success

<ColorPalette>
  <ColorItem
    title="Success"
    subtitle="Uses Success palette"
    colors={{
      "theme-success-default": "var(--theme-success-default)",
      "theme-success-on-success": "var(--theme-success-on-success)",
      "theme-success-surface": "var(--theme-success-surface)",
      "theme-success-on-surface": "var(--theme-success-on-surface)",
    }}
  />
</ColorPalette>

### Usage Examples

```tsx
// Success alert
<div className="bg-success text-content-invert">
  Operation completed!
</div>

// Success badge
<div style={{ background: 'var(--badge-success-bg)', color: 'var(--badge-success-text)' }}>
  Your changes have been saved
</div>
```

## Error

<ColorPalette>
  <ColorItem
    title="Error"
    subtitle="Uses Error palette"
    colors={{
      "theme-error-default": "var(--theme-error-default)",
      "theme-error-on-error": "var(--theme-error-on-error)",
      "theme-error-surface": "var(--theme-error-surface)",
      "theme-error-on-surface": "var(--theme-error-on-surface)",
    }}
  />
</ColorPalette>

### Usage Examples

```tsx
// Destructive button
<button className="bg-destructive text-white">
  Delete
</button>

// Error badge
<div style={{ background: 'var(--badge-error-bg)', color: 'var(--badge-error-text)' }}>
  Invalid input
</div>
```

## Warning

<ColorPalette>
  <ColorItem
    title="Warning"
    subtitle="Uses Warning palette"
    colors={{
      "theme-warning-default": "var(--theme-warning-default)",
      "theme-warning-on-warning": "var(--theme-warning-on-warning)",
      "theme-warning-surface": "var(--theme-warning-surface)",
      "theme-warning-on-surface": "var(--theme-warning-on-surface)",
    }}
  />
</ColorPalette>

### Usage Examples

```tsx
// Warning banner
<div className="bg-warning text-content-invert">
  Please review your settings
</div>
```

---

## Theme Switching

Theme tokens can be switched by applying the `data-theme` attribute on `<html>` to automatically change the primary color throughout your interface.

### How It Works

```tsx
// Teal theme (default) - Primary uses Teal
<html data-theme="teal">
  <button className="bg-primary text-primary-foreground">
    Teal Action
  </button>
</html>

// Mango theme - Primary uses Warning/Orange
<html data-theme="mango">
  <button className="bg-primary text-primary-foreground">
    Mango Action
  </button>
</html>

// Tomato theme - Primary uses Error/Red
<html data-theme="tomato">
  <button className="bg-primary text-primary-foreground">
    Tomato Action
  </button>
</html>
```

**The same code produces different colors based on the active theme!**

### Visual Examples

Below are identical components using the same token classes (`bg-primary`, `text-primary-foreground`), but with different themes applied:

#### Teal Theme (Default)

<div data-theme="teal" style={{ padding: '24px', background: 'var(--background)', borderRadius: '8px', marginBottom: '24px' }}>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Primary Button</p>
      <button style={{
        background: 'var(--theme-primary-default)',
        color: 'var(--theme-primary-on-primary)',
        padding: '12px 24px',
        borderRadius: '8px',
        border: 'none',
        fontWeight: 600,
        cursor: 'pointer'
      }}>
        Teal Action
      </button>
    </div>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Card with Primary Accent</p>
      <div style={{
        background: 'var(--card)',
        border: '2px solid var(--theme-primary-default)',
        borderRadius: '12px',
        padding: '16px',
        maxWidth: '300px'
      }}>
        <h3 style={{
          color: 'var(--theme-primary-default)',
          margin: '0 0 8px 0',
          fontSize: '18px',
          fontWeight: 600
        }}>
          Teal Dashboard
        </h3>
        <p style={{ margin: 0, color: 'var(--muted-foreground)', fontSize: '14px' }}>
          This card uses primary theme color for borders and headings
        </p>
      </div>
    </div>
  </div>
</div>

#### Mango Theme (Orange)

<div data-theme="mango" style={{ padding: '24px', background: 'var(--background)', borderRadius: '8px', marginBottom: '24px' }}>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Primary Button (same code!)</p>
      <button style={{
        background: 'var(--theme-primary-default)',
        color: 'var(--theme-primary-on-primary)',
        padding: '12px 24px',
        borderRadius: '8px',
        border: 'none',
        fontWeight: 600,
        cursor: 'pointer'
      }}>
        Mango Action
      </button>
    </div>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Card with Primary Accent (same code!)</p>
      <div style={{
        background: 'var(--card)',
        border: '2px solid var(--theme-primary-default)',
        borderRadius: '12px',
        padding: '16px',
        maxWidth: '300px'
      }}>
        <h3 style={{
          color: 'var(--theme-primary-default)',
          margin: '0 0 8px 0',
          fontSize: '18px',
          fontWeight: 600
        }}>
          Mango Dashboard
        </h3>
        <p style={{ margin: 0, color: 'var(--muted-foreground)', fontSize: '14px' }}>
          This card uses primary theme color for borders and headings
        </p>
      </div>
    </div>
  </div>
</div>

#### Tomato Theme (Red)

<div data-theme="tomato" style={{ padding: '24px', background: 'var(--background)', borderRadius: '8px' }}>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Primary Button (same code!)</p>
      <button style={{
        background: 'var(--theme-primary-default)',
        color: 'var(--theme-primary-on-primary)',
        padding: '12px 24px',
        borderRadius: '8px',
        border: 'none',
        fontWeight: 600,
        cursor: 'pointer'
      }}>
        Tomato Action
      </button>
    </div>
    <div>
      <p style={{ fontSize: '14px', color: 'var(--muted-foreground)', marginBottom: '8px' }}>Card with Primary Accent (same code!)</p>
      <div style={{
        background: 'var(--card)',
        border: '2px solid var(--theme-primary-default)',
        borderRadius: '12px',
        padding: '16px',
        maxWidth: '300px'
      }}>
        <h3 style={{
          color: 'var(--theme-primary-default)',
          margin: '0 0 8px 0',
          fontSize: '18px',
          fontWeight: 600
        }}>
          Tomato Dashboard
        </h3>
        <p style={{ margin: 0, color: 'var(--muted-foreground)', fontSize: '14px' }}>
          This card uses primary theme color for borders and headings
        </p>
      </div>
    </div>
  </div>
</div>

### Key Takeaway

**Same component code, different themes!** The theme tokens automatically resolve to the correct colors:

- **Teal theme**: `--theme-primary-default` &#8594; `var(--teal-500)` &#8594; Teal
- **Mango theme**: `--theme-primary-default` &#8594; `var(--warning-500)` &#8594; Orange
- **Tomato theme**: `--theme-primary-default` &#8594; `var(--error-500)` &#8594; Red

This allows you to create flexible, theme-aware components without hardcoding colors.
